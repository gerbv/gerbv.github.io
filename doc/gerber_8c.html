<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gerbv: src/gerber.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gerbv
   &#160;<span id="projectnumber">2.10.1-dev~ccf6a3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gerber_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gerber.c File Reference<div class="ingroups"><a class="el" href="group__libgerbv.html">libgerbv</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="gerber_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5a833fe365246882cec8f211d40bd3ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a5a833fe365246882cec8f211d40bd3ea">parse_G_code</a> (gerb_file_t *fd, gerb_state_t *state, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image, long int *line_num_p)</td></tr>
<tr class="separator:a5a833fe365246882cec8f211d40bd3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a1662918163ea5c137d9265f3010b1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a61a1662918163ea5c137d9265f3010b1">parse_D_code</a> (gerb_file_t *fd, gerb_state_t *state, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image, long int *line_num_p)</td></tr>
<tr class="separator:a61a1662918163ea5c137d9265f3010b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50502bd658a484dcd07c4360bafe435"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#ae50502bd658a484dcd07c4360bafe435">gerber_parse_file_segment</a> (gint levelOfRecursion, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image, gerb_state_t *state, <a class="el" href="gerbv_8h.html#a37aa91e0ea34d6f72cdfbfa65d1ed4ad">gerbv_net_t</a> *curr_net, <a class="el" href="structgerbv__stats__t.html">gerbv_stats_t</a> *stats, gerb_file_t *fd, gchar *directoryPath)</td></tr>
<tr class="separator:ae50502bd658a484dcd07c4360bafe435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed2f7eb78aa79c288d341fa986d19f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#afed2f7eb78aa79c288d341fa986d19f5">parse_gerb</a> (gerb_file_t *fd, gchar *directoryPath)</td></tr>
<tr class="separator:afed2f7eb78aa79c288d341fa986d19f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d477d089cfc66eb15a40fe2a72940e"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#ac8d477d089cfc66eb15a40fe2a72940e">gerber_is_rs274x_p</a> (gerb_file_t *fd, gboolean *returnFoundBinary)</td></tr>
<tr class="separator:ac8d477d089cfc66eb15a40fe2a72940e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3c64ad0d66dca00fa2bf07012e3fc6"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a1f3c64ad0d66dca00fa2bf07012e3fc6">gerber_is_rs274d_p</a> (gerb_file_t *fd)</td></tr>
<tr class="separator:a1f3c64ad0d66dca00fa2bf07012e3fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf404e8a53ad304b83531df9f122986"><td class="memItemLeft" align="right" valign="top"><a id="a6bf404e8a53ad304b83531df9f122986"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a6bf404e8a53ad304b83531df9f122986">gerber_d_code_name</a> (int d_code)</td></tr>
<tr class="separator:a6bf404e8a53ad304b83531df9f122986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef899a172ee4dac1f43c32d08abc630"><td class="memItemLeft" align="right" valign="top"><a id="a8ef899a172ee4dac1f43c32d08abc630"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a8ef899a172ee4dac1f43c32d08abc630">gerber_g_code_name</a> (int g_code)</td></tr>
<tr class="separator:a8ef899a172ee4dac1f43c32d08abc630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4cfb706014caa43c8670f9aa5e469c"><td class="memItemLeft" align="right" valign="top"><a id="aae4cfb706014caa43c8670f9aa5e469c"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#aae4cfb706014caa43c8670f9aa5e469c">gerber_m_code_name</a> (int m_code)</td></tr>
<tr class="separator:aae4cfb706014caa43c8670f9aa5e469c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RS274X parsing functions. </p>

<p class="definition">Definition in file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1f3c64ad0d66dca00fa2bf07012e3fc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3c64ad0d66dca00fa2bf07012e3fc6">&#9670;&nbsp;</a></span>gerber_is_rs274d_p()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_is_rs274d_p </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for signs that this is a RS-274D file Returns TRUE if it is, FALSE if not. </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l00846">846</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

</div>
</div>
<a id="ac8d477d089cfc66eb15a40fe2a72940e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d477d089cfc66eb15a40fe2a72940e">&#9670;&nbsp;</a></span>gerber_is_rs274x_p()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_is_rs274x_p </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean *&#160;</td>
          <td class="paramname"><em>returnFoundBinary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for signs that this is a RS-274X file Returns TRUE if it is, FALSE if not. </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l00756">756</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

</div>
</div>
<a id="ae50502bd658a484dcd07c4360bafe435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50502bd658a484dcd07c4360bafe435">&#9670;&nbsp;</a></span>gerber_parse_file_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_parse_file_segment </td>
          <td>(</td>
          <td class="paramtype">gint&#160;</td>
          <td class="paramname"><em>levelOfRecursion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gerbv_8h.html#a37aa91e0ea34d6f72cdfbfa65d1ed4ad">gerbv_net_t</a> *&#160;</td>
          <td class="paramname"><em>curr_net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__stats__t.html">gerbv_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>directoryPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the Gerber file char by char, looking for various Gerber codes (e.g. G, D, etc). Once it reads a code, it then dispatches control to one or another bits of code which parse the individual code. It also updates the state struct, which holds info about the current state of the hypothetical photoplotter (i.e. updates whether the aperture is on or off, updates any other parameters, like units, offsets, apertures, etc.) </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l00130">130</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="gerber_8c_source.html#l00692">parse_gerb()</a>.</p>

</div>
</div>
<a id="a61a1662918163ea5c137d9265f3010b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a1662918163ea5c137d9265f3010b1">&#9670;&nbsp;</a></span>parse_D_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_D_code </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>line_num_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function reads the numeric value of a D code and updates the state. It also updates the D stats counters </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l01071">1071</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p class="reference">References <a class="el" href="gerbv_8h_source.html#l00740">gerbv_image_t::gerbv_stats</a>.</p>

</div>
</div>
<a id="a5a833fe365246882cec8f211d40bd3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a833fe365246882cec8f211d40bd3ea">&#9670;&nbsp;</a></span>parse_G_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_G_code </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>line_num_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function reads a G number and updates the current state. It also updates the G stats counters </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l00926">926</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p class="reference">References <a class="el" href="gerbv_8h_source.html#l00737">gerbv_image_t::format</a>, and <a class="el" href="gerbv_8h_source.html#l00740">gerbv_image_t::gerbv_stats</a>.</p>

</div>
</div>
<a id="afed2f7eb78aa79c288d341fa986d19f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed2f7eb78aa79c288d341fa986d19f5">&#9670;&nbsp;</a></span>parse_gerb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a>* parse_gerb </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>directoryPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a wrapper which gets called from top level. It does some initialization and pre-processing, and then calls gerber_parse_file_segment which processes the actual file. Then it does final modifications to the image created. </p>

<p class="definition">Definition at line <a class="el" href="gerber_8c_source.html#l00692">692</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p class="reference">References <a class="el" href="gerber_8c_source.html#l00130">gerber_parse_file_segment()</a>, <a class="el" href="gerb__image_8c_source.html#l00046">gerbv_create_image()</a>, <a class="el" href="gerbv_8h_source.html#l00323">GERBV_LAYERTYPE_RS274X</a>, <a class="el" href="gerbv_8h_source.html#l00740">gerbv_image_t::gerbv_stats</a>, <a class="el" href="gerb__stats_8c_source.html#l00046">gerbv_stats_new()</a>, <a class="el" href="gerbv_8h_source.html#l00679">gerbv_net::layer</a>, <a class="el" href="gerbv_8h_source.html#l00734">gerbv_image_t::layers</a>, <a class="el" href="gerbv_8h_source.html#l00732">gerbv_image_t::layertype</a>, <a class="el" href="gerbv_8h_source.html#l00739">gerbv_image_t::netlist</a>, <a class="el" href="gerbv_8h_source.html#l00680">gerbv_net::state</a>, and <a class="el" href="gerbv_8h_source.html#l00735">gerbv_image_t::states</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="gerber_8c.html">gerber.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
